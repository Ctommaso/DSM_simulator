CC=mingw32-g++
CFLAGS= -std=c++11 -Wall -g -pedantic -O3
LDFLAGS= -std=c++11 -Wall -pedantic -O3 -static
EXEC=HeatPump.exe
VPATH = AutoQuar_Classes

all: $(EXEC)

HeatPump.exe: Array.o SortingPairs.o House.o Weather.o Neighborhood.o Battery.o Control.o Time_integration.o main_HeatPump.o
	$(CC) -o HeatPump.exe Array.o SortingPairs.o House.o Weather.o Neighborhood.o main_HeatPump.o Battery.o Control.o Time_integration.o $(LDFLAGS)

Control.o: Control.cpp Neighborhood.h SortingPairs.h Weather.h
	$(CC) -o Control.o -c $< $(CFLAGS)

Time_integration.o: Time_integration.cpp Neighborhood.h Weather.h Control.h
	$(CC) -o Time_integration.o -c $< $(CFLAGS)

Neighborhood.o: Neighborhood.cpp Array.h House.h Battery.h
	$(CC) -o Neighborhood.o -c $< $(CFLAGS)

Weather.o: Weather.cpp Array.h
	$(CC) -o Weather.o -c $< $(CFLAGS) 

Array.o: Array.cpp
	$(CC) -o Array.o -c $< $(CFLAGS)

SortingPairs.o: SortingPairs.cpp
	$(CC) -o SortingPairs.o -c $< $(CFLAGS)

House.o: House.cpp
	$(CC) -o House.o -c $< $(CFLAGS)

Battery.o: Battery.cpp
	$(CC) -o Battery.o -c $< $(CFLAGS)

main_HeatPump.o: main_HeatPump.cpp Array.h House.h SortingPairs.h Neighborhood.h Weather.h Battery.h Control.h Time_integration.h
	$(CC) -o main_HeatPump.o -c main_HeatPump.cpp $(CFLAGS)

.PHONY: clean
clean:
	del -rf *.o

mrproper: clean
	del -rf $(EXEC)
